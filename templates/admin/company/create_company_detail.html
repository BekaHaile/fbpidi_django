{%extends 'admin/base_site.html'%}
{%load crispy_forms_tags%}
{% block extrastyle %}
<script src="/static/admin/global_assets/js/demo_pages/form_inputs.js"></script>
<script src="/static/admin/global_assets/js/plugins/forms/wizards/steps.min.js"></script>
<script src="/static/admin/global_assets/js/plugins/forms/selects/select2.min.js"></script>
<script src="/static/admin/global_assets/js/plugins/forms/styling/uniform.min.js"></script>
<script src="/static/admin/global_assets/js/plugins/forms/inputs/inputmask.js"></script>
<script src="/static/admin/global_assets/js/plugins/forms/validation/validate.min.js"></script>
<script src="/static/admin/global_assets/js/plugins/extensions/cookie.js"></script>
<script src="/static/admin/global_assets/js/demo_pages/form_wizard.js"></script>

<!-- <script src="/static/admin/global_assets/js/demo_pages/form_checkboxes_radios.js"></script> -->
{% endblock %}
{%block pagename%}Company Form {%endblock%}
{%block content%}

<!-- Content area -->
<div class="content">
	<!-- Starting step -->
	<div class="card">
		<div class="card-header bg-white header-elements-inline">
			<h6 class="card-title">Create Company Profile</span></h6>
			<div class="header-elements">
				<div class="list-icons">
					<a class="list-icons-item" data-action="collapse"></a>
					<a class="list-icons-item" data-action="reload"></a>
					<a class="list-icons-item" data-action="remove"></a>
				</div>
			</div>
		</div>

		<form id="companyform" class="wizard-form steps-enable-all" action="{%url 'admin:create_company_detail' pk=object.id%}"
			method="POST" enctype="multipart/form-data" data-fouc>{%csrf_token%}
			<h6>Company Profile</h6>
			<!-- {{form|crispy}} -->

			<fieldset>
				 
				<div class="form-group">
					<label class="d-block font-weight-semibold">Does the company have expansion plan?</label>
					<label for=""><input type="radio" name="expn_plan" id="expn_yes">Yes</label><span class="ml-4 mr-4"></span>
					<label for=""><input type="radio" name="expn_plan" id="expn_no">No</label>
					<div id="div_expn" style="display: none;">
						<label for="">If Yes Please Specify</label>
						<div class="form-group">
							{{form.expansion_plan.label}}
							{{form.expansion_plan}}
						</div>
						<div class="form-group">
							<label for="">{{form.expansion_plan_am.label}}</label>
							{{form.expansion_plan_am}}
						</div>
						
					</div>
				</div>
				<div class="form-group">
					<label class="mr-4" for="">Current Investment Capital In Birr?</label>
					<button type="button" class="btn btn-success btn-sm pl-2 pr-2" 
							data-toggle="modal" data-target="#inv_capital_form_modal" id="">
						<i class="fa fa-plus"> </i>
					</button>
				</div>
				<div class="form-group row">
						<div class="col-md-6">
							<label>{{form.working_hours.label}}</label>
								{{form.working_hours}}
						</div>
						<div class="col-md-6">
							<label>{{form.orgn_strct.label}}</label>
							<div class="uniform-uploader">
								{{form.orgn_strct}}
								<span class="filename" style="user-select: none;">No file selected</span>
								<span class="action btn bg-warning" style="user-select: none;">Choose File</span>
							</div>
							<span class="form-text text-muted">{{form.orgn_strct.help_text}}b</span>
						</div>					
				 </div>
				 
			</fieldset>
		</form>
	</div>
	<!-- /starting step -->

</div>
<!-- /content area -->
<!-- MOdal Area Start -->
<div id="inv_capital_form_modal" class="modal fade" tabindex="-1">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Yearly Investment Capital Data</h5>
				<button type="button" class="close" data-dismiss="modal">&times;</button>
			</div>

			<form id="inv_capital_form" action="#" method="POST">
				{%csrf_token%}
				<div class="modal-body">
					<div class="form-group">
						<div class="row">
							<div class="col-sm-6">
								 {{inv_capital_form.year}}
							</div>

							<div class="col-sm-6">
								 {{inv_capital_form.machinery_cost}}
							</div>
						</div>
					</div>
					<div class="form-group">
						<div class="row">
							<div class="col-sm-6">
								 {{inv_capital_form.building_cost}}
							</div>

							<div class="col-sm-6">
								 {{inv_capital_form.working_capital}}
							</div>
						</div>
					</div>

				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-link" data-dismiss="modal">Close</button>
					<button type="button" id="submit_inv_capital" class="btn bg-primary">Submit form</button>
				</div>
			</form>
		</div>
	</div>
</div>
<!-- Modal Area End -->
<script>
	$(document).ready(function () {
		$(".summernote").summernote();
		$("#expn_yes").click(function(){
			$("#div_expn").css('display','block');
		});
		$("#expn_no").click(function(){
			$("#div_expn").css('display','none');
		});

		$("#submit_inv_capital").click(function(){
			var formData = $("#inv_capital_form").serializeArray();
			$("#inv_capital_form_modal").modal("hide");
			console.log(formData);
		});
	});
</script>
{%endblock%}