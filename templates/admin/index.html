{% extends "admin/base_site.html" %}
{% load i18n static %}

 
{% block extrastyle %}
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
		<!-- Theme JS files -->
		<script src="/static/admin/global_assets/js/plugins/visualization/echarts/echarts.min.js"></script>
		<script src="/static/admin/global_assets/js/demo_pages/charts/echarts/columns_waterfalls.js"></script>
        <script src="/static/admin/global_assets/js/demo_pages/charts/echarts/pies_donuts.js"></script>
        <!-- /theme JS files -->
        <script>
            

            $(function () {
        
              var $populationChart = $("#category-chart");
              $.ajax({
                url: $populationChart.data("url"),
                success: function (data) {
        
                  var ctx = $populationChart[0].getContext("2d");
                   
                  new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                      labels: data.labels,
                      datasets: [{
                        label: 'Companies',
                        backgroundColor: [ '#13a3eb;', '#eb6b34', '#4a9150', '#725ee0'],
                        data: data.data
                      }]          
                    },
                    options: {
                      responsive: true,
                      legend: {
                        position: 'top',
                      },
                      title: {
                        display: true,
                        text: 'Company Summary'
                      }
                    }
                  });
        
                }
              });
        
            });
        
          </script>
{% endblock %}
{% block content %}
  <!-- Content area -->
  <div class="content">

    <!-- Main charts -->
    <div class="card">
        <div class="card-header header-elements-inline">
            <h5 class="card-title">Company Category Summary</h5>
            <div class="header-elements">
                <div class="list-icons">
                    <a class="list-icons-item" data-action="collapse"></a>
                    <a class="list-icons-item" data-action="reload"></a>
                    <a class="list-icons-item" data-action="remove"></a>
                </div>
            </div>
        </div>

        <div class="card-body">
        <div id="container" style="width: 100%;">
            <canvas id="category-chart" data-url="{% url 'admin:category_chart' %}"></canvas>
            </div>
            
        </div>
    </div>
    <!-- /main charts -->

    <div class="card">
        <div class="card-header header-elements-inline">
            <h5 class="card-title">Daily Sales</h5>
            <div class="header-elements">
                <div class="list-icons">
                    <a class="list-icons-item" data-action="collapse"></a>
                    <a class="list-icons-item" data-action="reload"></a>
                    <a class="list-icons-item" data-action="remove"></a>
                </div>
            </div>
        </div>

        <div class="card-body">
            <div class="chart-container">
                <div class="chart has-fixed-height" id="columns_stacked"></div>
            </div>
        </div>
    </div>

    <!-- Dashboard content -->
    <div class="row">
        <div class="col-xl-8">

            <!-- Marketing campaigns -->
            <div class="card">
                <div class="card-header header-elements-inline">
                    <h5 class="card-title">Products</h5>
                    <div class="header-elements">
                        <div class="list-icons">
                            <a class="list-icons-item" data-action="collapse"></a>
                            <a class="list-icons-item" data-action="reload"></a>
                            <a class="list-icons-item" data-action="remove"></a>
                        </div>
                    </div>
                </div>

                <div class="card-body">
                    <div class="chart-container">
                        <div class="chart has-fixed-height" id="pie_basic"></div>
                    </div>
                </div>
            </div>
            <!-- /marketing campaigns -->
 
        </div>

         
    </div>
    <!-- /dashboard content -->

</div>
<!-- /content area -->
{% endblock %}
